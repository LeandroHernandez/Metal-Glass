<!-- <p>clients works!</p> -->
<div *ngIf="clients">
  <div
    nz-row
    nzAlign="middle"
    [nzGutter]="[0, 0]"
    nzJustify="space-between"
    class="header"
  >
    <div
      nz-col
      nzSpan="4"
      nzXXl="4"
      nzXl="4"
      nzLg="5"
      nzMd="7"
      nzSm="9"
      nzXs="24"
    >
      <img
        [src]="
          'https://firebasestorage.googleapis.com/v0/b/audio-visual-turno.appspot.com/o/MetalGlassLogo.jpeg?alt=media&token=354bf13d-f55c-46ef-bd7e-117c673fc4a2'
        "
        [alt]="'Logo de Metal Glass'"
        title="Logo de Metal Glass"
        class="metalGlassLogo"
      />
    </div>
    <div
      nz-col
      nzSpan="20"
      nzXXl="20"
      nzXl="20"
      nzLg="19"
      nzMd="17"
      nzSm="15"
      nzXs="24"
    >
      <div nz-row nzAlign="middle" [nzGutter]="[0, 0]" nzJustify="space-around">
        <div
          nz-col
          nzSpan="18"
          nzXXl="18"
          nzXl="18"
          nzLg="16"
          nzMd="24"
          nzSm="24"
          nzXs="24"
        >
          <h2>Clientes</h2>
        </div>
        <div
          nz-col
          nzSpan="4"
          nzXXl="4"
          nzXl="4"
          nzLg="6"
          nzMd="24"
          nzSm="24"
          nzXs="24"
        >
          <button
            nz-button
            nzType="primary"
            nzSize="large"
            title="Back"
            [routerLink]="['/admin/home']"
          >
            Volver a Home
          </button>
        </div>
      </div>
    </div>
  </div>
  <div
    nz-row
    nzAlign="middle"
    [nzGutter]="[0, 20]"
    nzJustify="center"
    class="row-content"
  >
    <div nz-col nzSpan="24" class="col-content col-registerAssignment">
      <div nz-row nzAlign="middle" [nzGutter]="[0, 0]" nzJustify="center">
        <div nz-col nzSpan="23">
          <button
            nz-button
            nzType="primary"
            nzSize="large"
            title="Back"
            [routerLink]="['/admin/home/clientes/registro-cliente']"
            type="button"
          >
            Registrar un nuevo cliente
          </button>
        </div>
      </div>
    </div>
    <div nz-col nzSpan="24" class="col-content">
      <div nz-row nzAlign="middle" [nzGutter]="[0, 0]" nzJustify="center">
        <div
          nz-col
          nzXXl="23"
          nzXl="23"
          nzLg="23"
          nzMd="23"
          nzSm="23"
          nzXs="24"
        >
          <!-- <nz-card> -->
          <!-- {{ clients | json }} -->
          <nz-table
            #nzTable
            [nzData]="clientsView"
            nzTableLayout="fixed"
            [nzScroll]="{ x: '99%' }"
          >
            <thead>
              <tr>
                <th nzWidth="250px" nzCustomFilter>
                  <!-- Name -->
                  Tipo de documento
                  <nz-filter-trigger
                    [(nzVisible)]="visible"
                    [nzActive]="searchValue.length > 0"
                    [nzDropdownMenu]="theAssigned"
                  >
                    <span nz-icon nzType="search"></span>
                  </nz-filter-trigger>
                </th>
                <th nzWidth="250px">
                  Numero de documento
                  <nz-filter-trigger
                    [nzActive]="searchValue.length > 0"
                    [nzDropdownMenu]="administratorWhoAssigns"
                  >
                    <span nz-icon nzType="search"></span>
                  </nz-filter-trigger>
                </th>
                <th nzWidth="250px" nzCustomFilter>
                  <!-- Name -->
                  Nombres
                  <nz-filter-trigger
                    [(nzVisible)]="visible"
                    [nzActive]="searchValue.length > 0"
                  >
                    <span nz-icon nzType="search"></span>
                  </nz-filter-trigger>
                </th>
                <th nzWidth="250px" nzCustomFilter>
                  <!-- Name -->
                  Apellidos
                  <nz-filter-trigger
                    [(nzVisible)]="visible"
                    [nzActive]="searchValue.length > 0"
                  >
                    <span nz-icon nzType="search"></span>
                  </nz-filter-trigger>
                </th>
                <th nzWidth="250px" nzCustomFilter>
                  <!-- Name -->
                  Numero de telefono
                  <nz-filter-trigger
                    [(nzVisible)]="visible"
                    [nzActive]="searchValue.length > 0"
                  >
                    <span nz-icon nzType="search"></span>
                  </nz-filter-trigger>
                </th>
                <th nzWidth="250px" nzCustomFilter>
                  <!-- Name -->
                  Correo
                  <nz-filter-trigger
                    [(nzVisible)]="visible"
                    [nzActive]="searchValue.length > 0"
                  >
                    <span nz-icon nzType="search"></span>
                  </nz-filter-trigger>
                </th>
                <th nzWidth="250px" nzCustomFilter>
                  <!-- Name -->
                  Compras
                  <nz-filter-trigger
                    [(nzVisible)]="visible"
                    [nzActive]="searchValue.length > 0"
                  >
                    <span nz-icon nzType="search"></span>
                  </nz-filter-trigger>
                </th>
                <!-- <th nzCustomFilter>
                  Citas
                  <nz-filter-trigger
                    [(nzVisible)]="visible"
                    [nzActive]="searchValue.length > 0"
                  >
                    <span nz-icon nzType="search"></span>
                  </nz-filter-trigger>
                </th> -->
                <th nzWidth="250px" nzCustomFilter>
                  Grado de cliente
                  <nz-filter-trigger
                    [(nzVisible)]="visible"
                    [nzActive]="searchValue.length > 0"
                  >
                    <span nz-icon nzType="search"></span>
                  </nz-filter-trigger>
                </th>
                <th nzWidth="150px">Acciones</th>
              </tr>
            </thead>
            <tbody>
              <!-- <tr *ngFor="let assignment of clients"> -->
              <tr *ngFor="let client of nzTable.data">
                <td>
                  <div *ngIf="client.documentType">
                    {{ client.documentType.type }}
                  </div>
                </td>
                <td>{{ client.documentNumber }}</td>
                <td>{{ client.names }}</td>
                <td>{{ client.surnames }}</td>
                <td>{{ client.phoneNumber }}</td>
                <td>{{ client.email }}</td>
                <td>{{ client.shoppingHistory | json }}</td>
                <!-- <td>{{ client.datingHistory | json }}</td> -->
                <td>{{ client.customerGrade }}</td>
              </tr>
            </tbody>
          </nz-table>
          <nz-dropdown-menu #theAssigned="nzDropdownMenu">
            <div class="ant-table-filter-dropdown">
              <div *ngIf="1 > 0; then search_box" class="search-box">
                <!-- <input
                  type="text"
                  nz-input
                  placeholder="Search name"
                  [(ngModel)]="searchValue"
                />
                <button
                  nz-button
                  nzSize="small"
                  nzType="primary"
                  (click)="search()"
                  class="search-button"
                >
                  Search
                </button>
                <button nz-button nzSize="small" (click)="reset()">
                  Reset
                </button> -->
              </div>
            </div>
          </nz-dropdown-menu>
          <nz-dropdown-menu #administratorWhoAssigns="nzDropdownMenu">
            <div
              style="
                background: #ffffffff;
                padding: 24px;
                box-shadow: 0 0 10px 0 rgb(196, 196, 196);
              "
            >
              <div style="border-bottom: 1px solid rgb(233, 233, 233)">
                <label
                  nz-checkbox
                  [(ngModel)]="allChecked"
                  (ngModelChange)="updateAllChecked()"
                  [nzIndeterminate]="indeterminate"
                >
                  Seleccionar todos
                </label>
              </div>
              <br />
              <!-- <nz-checkbox-group
                style="width: 250px; max-width: 90%"
                [(ngModel)]="administratorsWhoAssignsListView"
                (ngModelChange)="updateSingleChecked()"
              ></nz-checkbox-group> -->
              <nz-checkbox-group
                style="width: 250px; max-width: 90%"
                (ngModelChange)="updateSingleChecked()"
              ></nz-checkbox-group>
              <br />
              <br />
              <button
                nz-button
                nzSize="small"
                nzType="primary"
                (click)="search()"
                class="search-button"
              >
                Search
              </button>
              <!-- <button nz-button nzSize="small" (click)="reset()">Reset</button> -->
            </div>
          </nz-dropdown-menu>
          <ng-template id="search_box" #search_box>
            <input
              type="text"
              nz-input
              placeholder="Search name"
              [(ngModel)]="searchValue"
            />
            <button
              nz-button
              nzSize="small"
              nzType="primary"
              (click)="search()"
              class="search-button"
            >
              Search
            </button>
            <button nz-button nzSize="small" (click)="reset()">Reset</button>
          </ng-template>
          <!-- </nz-card> -->
        </div>
      </div>
    </div>
  </div>
</div>
